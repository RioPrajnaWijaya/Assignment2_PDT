{% extends 'base.html' %}

{% block content %}

{% for message in get_flashed_messages() %}

    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>

{% endfor %}

    <h1>Dashboard</h1>
    <br>
    <div class="card">
        <div class="card-header">
          Welcome to MiniBlog, {{ current_user.name }}
        </div>
        <div class="card-body">
          <h5><strong>Profile</strong></h5>
          <p class="card-text">
            <strong>Name : </strong>{{ current_user.name }}<br>
            <strong>Username : </strong>{{ current_user.username }}<br>
            <strong>User ID : </strong>{{ current_user.id }}<br>
            <strong>Date Joined : </strong>{{ current_user.date_added }}
          </p>
          <a href="{{ url_for('update', id = current_user.id) }}" class="btn btn-primary">Update</a>
          <a href="{{ url_for('delete', id = current_user.id) }}" class="btn btn-danger">Delete</a>
          <a href="{{ url_for('logout') }}" class="btn btn-warning">Logout</a>
        </div>
    </div>

    <br>

    <div class="dashboard box shadow p-3 mb-5 bg-body rounded">
      <h3>Let's write your own blog <a href="{{ url_for('add_post')}}">here.</a></h3>
      <br>
      <h3>Want to see existing blog? Please click the button.</h3>
      <div class="button">
        <button type="button" onclick="window.location.href= '{{ url_for('posts')}}';">Blog Post</button>
      </div>
    </div>  
{% endblock %}